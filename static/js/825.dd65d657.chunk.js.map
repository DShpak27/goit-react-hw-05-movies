{"version":3,"file":"static/js/825.dd65d657.chunk.js","mappings":"iLACA,EAA+B,wC,SCmB/B,MAhBA,YAAkD,IAArBA,EAAoB,EAApBA,iBACzB,OACI,eAAGC,UAAWC,EAAd,gCAEI,kBAFJ,mBAGqBF,EAHrB,MAII,kBAJJ,uBAQP,C,2GCbD,GAAgB,YAAc,gCAAgC,aAAe,iCAAiC,WAAa,gC,SCE5G,SAASG,EAAT,GAAuC,IAAjBC,EAAgB,EAAhBA,aACjC,OACI,eAAIH,UAAWC,EAAAA,YAAf,SACKE,EAAaC,KAAI,SAAAC,GACd,OACI,gBAAoBL,UAAWC,EAAAA,gBAA/B,WACI,eAAGD,UAAWC,EAAAA,aAAd,qBACaI,EAAM,eAAmBC,aAEtC,cAAGN,UAAWC,EAAAA,WAAd,SAA+BI,EAAOE,YAJjCF,EAAOG,GAOvB,KAGZ,C,YCjBD,EAAmC,kCCMpB,SAASC,IACpB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAuCE,EAAAA,EAAAA,UAAS,IAAhD,eAAOT,EAAP,KAAqBU,EAArB,KACA,GAA4BD,EAAAA,EAAAA,UAAS,aAArC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAAgDH,EAAAA,EAAAA,UAAS,IAAzD,eAAOb,EAAP,KAAyBiB,EAAzB,KA4BA,OAHAC,EAAAA,EAAAA,YAAU,YAvBc,SAAAP,GACpBQ,EAAAA,EAAAA,eACoBR,GACfS,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASN,QAE7B,OAAOM,EAASG,MACnB,IACAJ,MAAK,SAAAK,GACEA,EAAKC,QAAQC,QACbb,EAAeW,EAAKC,SACpBV,EAAU,OAEVA,EAAU,gBAEjB,IACAY,OAAM,SAAAC,GACHZ,EAAoBY,EAAMC,SAC1Bd,EAAU,QACb,GACR,CAGGe,CAAgBpB,EACnB,GAAE,CAACA,KAEA,gCACgB,OAAXI,IAAmB,SAACZ,EAAD,CAAYC,aAAcA,IAClC,kBAAXW,IACG,cAAGd,UAAWC,EAAd,uDAIQ,UAAXa,IACG,SAACiB,EAAA,EAAD,CAAmBhC,iBAAkBA,MAIpD,C,mBCpDD,IAAMmB,EAAkB,CACpBc,QAAS,gCACTC,QAAS,mCACTC,aAAc,GACdC,WAAY,EAEZC,iBANoB,WAOhB,OAAO,IAAIC,gBAAgB,CACvBC,QAASC,KAAKN,QACdO,MAAOD,KAAKL,aACZO,KAAMF,KAAKJ,YAElB,EAEDO,cAdoB,WAehB,OAAO,IAAIL,gBAAgB,CACvBC,QAASC,KAAKN,SAErB,EAEDU,YApBoB,WAoB2C,IAAnDC,EAAkD,uDAAjC,QAASC,EAAwB,uDAAP,MAC7CC,EAAgB,WACtB,OAAOC,MAAM,GAAD,OAEJR,KAAKP,SAFD,OAGLc,EAHK,YAGYF,EAHZ,YAG8BC,EAH9B,YAGgDN,KAAKG,iBAEpE,EAEDM,aA7BoB,SA6BPxC,GAET,OAAOuC,MAAM,GAAD,OAAIR,KAAKP,SAAT,OADI,QACJ,YAA8BxB,EAA9B,YAAoC+B,KAAKG,iBACxD,EAEDO,eAlCoB,SAkCLzC,GAGX,OAAOuC,MAAM,GAAD,OAEJR,KAAKP,SAFD,OAFI,QAEJ,YAGMxB,EAHN,YADM,UACN,YAGyB+B,KAAKG,iBAE7C,EAEDQ,kBA5CoB,SA4CFC,GACdZ,KAAKL,aAAeiB,EAEpB,OAAOJ,MAAM,GAAD,OAAIR,KAAKP,SAAT,OADI,eACJ,YAA8BO,KAAKH,oBAClD,EAEDgB,QAlDoB,SAkDZ5C,GAGJ,OAAOuC,MAAM,GAAD,OAEJR,KAAKP,SAFD,OAFI,QAEJ,YAGMxB,EAHN,YADM,UACN,YAGyB+B,KAAKG,iBAE7C,GAGL,K","sources":["webpack://goit-react-hw-05-movies/./src/components/ErrorMessageBlock/ErrorMessageBlock.module.scss?8171","components/ErrorMessageBlock/ErrorMessageBlock.jsx","webpack://goit-react-hw-05-movies/./src/components/ReviewList/ReviewList.module.scss?d5a9","components/ReviewList/ReviewList.jsx","webpack://goit-react-hw-05-movies/./src/components/Reviews/Reviews.module.scss?0ade","components/Reviews/Reviews.jsx","services/searchService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"errorMessage\":\"ErrorMessageBlock_errorMessage__rcMMp\"};","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport css from './ErrorMessageBlock.module.scss';\r\n\r\nfunction ErrorMessageBlock({ errorDescription }) {\r\n    return (\r\n        <p className={css.errorMessage}>\r\n            An error occurred!\r\n            <br />\r\n            Type of error: '{errorDescription}'.\r\n            <br />\r\n            Try again later...\r\n        </p>\r\n    );\r\n}\r\n\r\nErrorMessageBlock.propTypes = {\r\n    errorDescription: propTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorMessageBlock;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"reviewsList\":\"ReviewList_reviewsList__pyxou\",\"reviewAuthor\":\"ReviewList_reviewAuthor__6-QjT\",\"reviewText\":\"ReviewList_reviewText__B+bFe\"};","import propTypes from 'prop-types';\r\nimport css from './ReviewList.module.scss';\r\n\r\nexport default function ReviewList({ movieReviews }) {\r\n    return (\r\n        <ul className={css.reviewsList}>\r\n            {movieReviews.map(review => {\r\n                return (\r\n                    <li key={review.id} className={css.reviewsListItem}>\r\n                        <p className={css.reviewAuthor}>\r\n                            Author: {review['author_details'].username}\r\n                        </p>\r\n                        <p className={css.reviewText}>{review.content}</p>\r\n                    </li>\r\n                );\r\n            })}\r\n        </ul>\r\n    );\r\n}\r\n\r\nReviewList.propTypes = {\r\n    movieReviews: propTypes.array.isRequired,\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"nothingFoundText\":\"Reviews_nothingFoundText__R0hcb\"};","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ErrorMessageBlock from '../../components/ErrorMessageBlock/ErrorMessageBlock.jsx';\r\nimport ReviewList from '../../components/ReviewList/ReviewList.jsx';\r\nimport movieServiceApi from '../../services/searchService.js';\r\nimport css from './Reviews.module.scss';\r\n\r\nexport default function Reviews() {\r\n    const { movieId } = useParams();\r\n    const [movieReviews, setMovieReview] = useState([]);\r\n    const [status, setStatus] = useState('indefined');\r\n    const [errorDescription, setErrorDescription] = useState('');\r\n\r\n    const getMovieReviews = movieId => {\r\n        movieServiceApi\r\n            .getReviewsById(movieId)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(response.status);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                if (data.results.length) {\r\n                    setMovieReview(data.results);\r\n                    setStatus('ok');\r\n                } else {\r\n                    setStatus('nothing found');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                setErrorDescription(error.message);\r\n                setStatus('error');\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getMovieReviews(movieId);\r\n    }, [movieId]);\r\n    return (\r\n        <>\r\n            {status === 'ok' && <ReviewList movieReviews={movieReviews} />}\r\n            {status === 'nothing found' && (\r\n                <p className={css.nothingFoundText}>\r\n                    We don't have avy reviews for this movie!\r\n                </p>\r\n            )}\r\n            {status === 'error' && (\r\n                <ErrorMessageBlock errorDescription={errorDescription} />\r\n            )}\r\n        </>\r\n    );\r\n}\r\n","const movieServiceApi = {\r\n    baseUrl: 'https://api.themoviedb.org/3/',\r\n    userKey: 'a3cb0cf762fe02df8fbdba8f47fbe85b',\r\n    currentQuery: '',\r\n    pageNumber: 1,\r\n\r\n    makeSearchParams() {\r\n        return new URLSearchParams({\r\n            api_key: this.userKey,\r\n            query: this.currentQuery,\r\n            page: this.pageNumber,\r\n        });\r\n    },\r\n\r\n    makeUrlParams() {\r\n        return new URLSearchParams({\r\n            api_key: this.userKey,\r\n        });\r\n    },\r\n\r\n    getTrending(typeOfTrending = 'movie', trendingPeriod = 'day') {\r\n        const typeOfService = 'trending';\r\n        return fetch(\r\n            `${\r\n                this.baseUrl\r\n            }${typeOfService}/${typeOfTrending}/${trendingPeriod}?${this.makeUrlParams()}`\r\n        );\r\n    },\r\n\r\n    getMovieById(id) {\r\n        const urlPart = 'movie';\r\n        return fetch(`${this.baseUrl}${urlPart}/${id}?${this.makeUrlParams()}`);\r\n    },\r\n\r\n    getReviewsById(id) {\r\n        const urlPart = 'movie';\r\n        const urlSuffix = 'reviews';\r\n        return fetch(\r\n            `${\r\n                this.baseUrl\r\n            }${urlPart}/${id}/${urlSuffix}?${this.makeUrlParams()}`\r\n        );\r\n    },\r\n\r\n    getSearchedMovies(value) {\r\n        this.currentQuery = value;\r\n        const urlPart = 'search/movie';\r\n        return fetch(`${this.baseUrl}${urlPart}?${this.makeSearchParams()}`);\r\n    },\r\n\r\n    getCast(id) {\r\n        const urlPart = 'movie';\r\n        const urlSuffix = 'credits';\r\n        return fetch(\r\n            `${\r\n                this.baseUrl\r\n            }${urlPart}/${id}/${urlSuffix}?${this.makeUrlParams()}`\r\n        );\r\n    },\r\n};\r\n\r\nexport default movieServiceApi;\r\n"],"names":["errorDescription","className","css","ReviewList","movieReviews","map","review","username","content","id","Reviews","movieId","useParams","useState","setMovieReview","status","setStatus","setErrorDescription","useEffect","movieServiceApi","then","response","ok","Error","json","data","results","length","catch","error","message","getMovieReviews","ErrorMessageBlock","baseUrl","userKey","currentQuery","pageNumber","makeSearchParams","URLSearchParams","api_key","this","query","page","makeUrlParams","getTrending","typeOfTrending","trendingPeriod","typeOfService","fetch","getMovieById","getReviewsById","getSearchedMovies","value","getCast"],"sourceRoot":""}