"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[132],{663:function(e,t,r){r.d(t,{Z:function(){return n}});r(791);var a="ErrorMessageBlock_errorMessage__rcMMp",s=r(184);var n=function(e){var t=e.errorDescription;return(0,s.jsxs)("p",{className:a,children:["An error occurred!",(0,s.jsx)("br",{}),"Type of error: '",t,"'.",(0,s.jsx)("br",{}),"Try again later..."]})}},132:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=r(439),s=r(791),n=r(689),i=r(663),c=r(74),o=r(87),l={goBackBtn:"MovieDetails_goBackBtn__7oLPV",topWrapper:"MovieDetails_topWrapper__9qe9I",moviePosterWrapper:"MovieDetails_moviePosterWrapper__doLKL",title:"MovieDetails_title__n1pns",text:"MovieDetails_text__ZV8Di",navLink:"MovieDetails_navLink__YVxwB",navLinkActive:"MovieDetails_navLinkActive__6Bvio",bottomWrapper:"MovieDetails_bottomWrapper__+nfhu",LinkWrapper:"MovieDetails_LinkWrapper__bjlnx"},v=r(184),h=function(e){return e.isActive?"".concat(l.navLink," ").concat(l.navLinkActive):l.navLink};function u(){var e,t=(0,n.UO)().movieId,r=(0,s.useState)({}),u=(0,a.Z)(r,2),m=u[0],p=u[1],d=(0,s.useState)("ok"),f=(0,a.Z)(d,2),_=f[0],x=f[1],g=(0,s.useState)(""),k=(0,a.Z)(g,2),j=k[0],b=k[1],N=(0,n.s0)(),w=(0,n.TH)(),L={from:null===(e=w.state)||void 0===e?void 0:e.from};return(0,s.useEffect)((function(){!function(e){c.Z.getMovieById(e).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){var t="https://image.tmdb.org/t/p/w200".concat(e.poster_path),r=e.title,a="(".concat(e.release_date.slice(0,4),")"),s="".concat((10*e.vote_average).toFixed(0),"%"),n=e.overview,i=e.genres.map((function(e){return e.name})).join(" ");p({posterPath:t,title:r,releaseDate:a,userScore:s,overview:n,genres:i})})).catch((function(e){b(e.message),x("error")}))}(t)}),[t]),(0,v.jsxs)("main",{children:[(0,v.jsxs)("section",{className:l.movieDetails,children:[(0,v.jsx)("button",{className:l.goBackBtn,onClick:function(){var e;return N((null===(e=w.state)||void 0===e?void 0:e.from)||"/movies")},children:"GoBack"}),"ok"===_&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:l.topWrapper,children:[(0,v.jsx)("div",{className:l.moviePosterWrapper,children:(0,v.jsx)("img",{src:m.posterPath,alt:"the movie poster"})}),(0,v.jsxs)("div",{className:l.movieInfoWrapper,children:[(0,v.jsx)("h1",{className:l.title,children:"".concat(m.title," ").concat(m.releaseDate)}),(0,v.jsxs)("p",{className:l.text,children:["User Score: ",m.userScore]}),(0,v.jsx)("h2",{className:l.title,children:"Overview"}),(0,v.jsx)("p",{className:l.text,children:m.overview}),(0,v.jsx)("h3",{className:l.title,children:"Genres"}),(0,v.jsx)("p",{className:l.text,children:m.genres})]})]}),(0,v.jsxs)("div",{className:l.bottomWrapper,children:[(0,v.jsx)("h4",{className:l.title,children:"Additional information"}),(0,v.jsxs)("div",{className:l.LinkWrapper,children:[(0,v.jsx)(o.OL,{className:h,to:"cast",state:L,children:"Cast"}),(0,v.jsx)(o.OL,{className:h,to:"reviews",state:L,children:"Reviews"})]})]})]}),"error"===_&&(0,v.jsx)(i.Z,{errorDescription:j})]}),(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading subpage..."}),children:(0,v.jsx)(n.j3,{})})]})}},74:function(e,t){var r={baseUrl:"https://api.themoviedb.org/3/",userKey:"a3cb0cf762fe02df8fbdba8f47fbe85b",currentQuery:"",pageNumber:1,makeSearchParams:function(){return new URLSearchParams({api_key:this.userKey,query:this.currentQuery,page:this.pageNumber})},makeUrlParams:function(){return new URLSearchParams({api_key:this.userKey})},getTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"movie",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",r="trending";return fetch("".concat(this.baseUrl).concat(r,"/").concat(e,"/").concat(t,"?").concat(this.makeUrlParams()))},getMovieById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"?").concat(this.makeUrlParams()))},getReviewsById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("reviews","?").concat(this.makeUrlParams()))},getSearchedMovies:function(e){this.currentQuery=e;return fetch("".concat(this.baseUrl).concat("search/movie","?").concat(this.makeSearchParams()))},getCast:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("credits","?").concat(this.makeUrlParams()))}};t.Z=r}}]);
//# sourceMappingURL=132.13bb3984.chunk.js.map