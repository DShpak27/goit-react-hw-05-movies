"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[825],{663:function(e,r,t){t.d(r,{Z:function(){return s}});t(791);var n="ErrorMessageBlock_errorMessage__rcMMp",a=t(184);var s=function(e){var r=e.errorDescription;return(0,a.jsxs)("p",{className:n,children:["An error occurred!",(0,a.jsx)("br",{}),"Type of error: '",r,"'.",(0,a.jsx)("br",{}),"Try again later..."]})}},825:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(439),a=t(791),s=t(689),c=t(663),i={reviewsList:"ReviewList_reviewsList__pyxou",reviewAuthor:"ReviewList_reviewAuthor__6-QjT",reviewText:"ReviewList_reviewText__B+bFe"},o=t(184);function u(e){var r=e.movieReviews;return(0,o.jsx)("ul",{className:i.reviewsList,children:r.map((function(e){return(0,o.jsxs)("li",{className:i.reviewsListItem,children:[(0,o.jsxs)("p",{className:i.reviewAuthor,children:["Author: ",e.author_details.username]}),(0,o.jsx)("p",{className:i.reviewText,children:e.content})]},e.id)}))})}var h=t(74),v="Reviews_nothingFoundText__R0hcb";function f(){var e=(0,s.UO)().movieId,r=(0,a.useState)([]),t=(0,n.Z)(r,2),i=t[0],f=t[1],m=(0,a.useState)("indefined"),l=(0,n.Z)(m,2),d=l[0],w=l[1],_=(0,a.useState)(""),g=(0,n.Z)(_,2),b=g[0],p=g[1];return(0,a.useEffect)((function(){!function(e){h.Z.getReviewsById(e).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){e.results.length?(f(e.results),w("ok")):w("nothing found")})).catch((function(e){p(e.message),w("error")}))}(e)}),[e]),(0,o.jsxs)(o.Fragment,{children:["ok"===d&&(0,o.jsx)(u,{movieReviews:i}),"nothing found"===d&&(0,o.jsx)("p",{className:v,children:"We don't have avy reviews for this movie!"}),"error"===d&&(0,o.jsx)(c.Z,{errorDescription:b})]})}},74:function(e,r){var t={baseUrl:"https://api.themoviedb.org/3/",userKey:"a3cb0cf762fe02df8fbdba8f47fbe85b",currentQuery:"",pageNumber:1,makeSearchParams:function(){return new URLSearchParams({api_key:this.userKey,query:this.currentQuery,page:this.pageNumber})},makeUrlParams:function(){return new URLSearchParams({api_key:this.userKey})},getTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"movie",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",t="trending";return fetch("".concat(this.baseUrl).concat(t,"/").concat(e,"/").concat(r,"?").concat(this.makeUrlParams()))},getMovieById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"?").concat(this.makeUrlParams()))},getReviewsById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("reviews","?").concat(this.makeUrlParams()))},getSearchedMovies:function(e){this.currentQuery=e;return fetch("".concat(this.baseUrl).concat("search/movie","?").concat(this.makeSearchParams()))},getCast:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("credits","?").concat(this.makeUrlParams()))}};r.Z=t}}]);
//# sourceMappingURL=825.dd65d657.chunk.js.map