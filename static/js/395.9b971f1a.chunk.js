"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[395],{663:function(e,t,r){r.d(t,{Z:function(){return c}});r(791);var n="ErrorMessageBlock_errorMessage__rcMMp",a=r(184);var c=function(e){var t=e.errorDescription;return(0,a.jsxs)("p",{className:n,children:["An error occurred!",(0,a.jsx)("br",{}),"Type of error: '",t,"'.",(0,a.jsx)("br",{}),"Try again later..."]})}},12:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(689),a={movieList:"MovieList_movieList__pH29x",Link:"MovieList_Link__jGEDg"},c=r(87),i=r(184);var s=function(e){var t=e.moviesList,r=(0,n.TH)(),s="/"===r.pathname?"movies/":"";return(0,i.jsx)("ul",{className:a.movieList,children:t.map((function(e){return(0,i.jsx)("li",{className:a.movieListItem,children:(0,i.jsx)(c.rU,{className:a.Link,to:"".concat(s).concat(e.id),state:{from:r},children:e.title})},e.id)}))})}},395:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(439),a=r(791),c={title:"Home_title__1aNQh"},i=r(74),s=r(12),o=r(663),u=r(184);function h(){var e=(0,a.useState)([]),t=(0,n.Z)(e,2),r=t[0],h=t[1],m=(0,a.useState)("ok"),f=(0,n.Z)(m,2),l=f[0],v=f[1],d=(0,a.useState)(""),g=(0,n.Z)(d,2),_=g[0],k=g[1];return(0,a.useEffect)((function(){i.Z.getTrending().then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return h(e.results)})).catch((function(e){k(e.message),v("error")}))}),[]),(0,u.jsxs)("section",{className:c.home,children:[(0,u.jsx)("h1",{className:c.title,children:"Trending today"}),"ok"===l&&(0,u.jsx)(s.Z,{moviesList:r}),"error"===l&&(0,u.jsx)(o.Z,{errorDescription:_})]})}},74:function(e,t){var r={baseUrl:"https://api.themoviedb.org/3/",userKey:"a3cb0cf762fe02df8fbdba8f47fbe85b",currentQuery:"",pageNumber:1,makeSearchParams:function(){return new URLSearchParams({api_key:this.userKey,query:this.currentQuery,page:this.pageNumber})},makeUrlParams:function(){return new URLSearchParams({api_key:this.userKey})},getTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"movie",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",r="trending";return fetch("".concat(this.baseUrl).concat(r,"/").concat(e,"/").concat(t,"?").concat(this.makeUrlParams()))},getMovieById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"?").concat(this.makeUrlParams()))},getReviewsById:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("reviews","?").concat(this.makeUrlParams()))},getSearchedMovies:function(e){this.currentQuery=e;return fetch("".concat(this.baseUrl).concat("search/movie","?").concat(this.makeSearchParams()))},getCast:function(e){return fetch("".concat(this.baseUrl).concat("movie","/").concat(e,"/").concat("credits","?").concat(this.makeUrlParams()))}};t.Z=r}}]);
//# sourceMappingURL=395.9b971f1a.chunk.js.map